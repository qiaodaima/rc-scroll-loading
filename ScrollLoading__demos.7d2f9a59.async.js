(self.webpackChunkrc_scroll_loading=self.webpackChunkrc_scroll_loading||[]).push([[835],{98381:function(r,i,e){"use strict";e.r(i),e.d(i,{default:function(){return ne}});var a={};e.r(a);var T=e(97857),o=e.n(T),F=e(15009),p=e.n(F),N=e(99289),G=e.n(N),x=e(67294),w=e(94184),U=e.n(w),k=e(19632),B=e.n(k),q=e(5574),M=e.n(q),n=e(85893),ee={CURRENT_PAGE_NUMBER:1,PAGE_SIZE:10,RENDER_SCROL_LOAD_TIPS:(0,n.jsx)("div",{className:"rc-scroll-load-tips",children:(0,n.jsx)("p",{className:"rc-scroll-text-tips",children:"\u52A0\u8F7D\u4E2D..."})}),RENDER_END_TIPS:(0,n.jsx)("div",{className:"rc-scroll-end-tips",children:(0,n.jsx)("p",{className:"rc-scroll-text-tips",children:"\u5230\u5E95\u5566~"})}),RENDER_EMPTY:(0,n.jsx)("div",{className:"rc-scroll-empty",children:(0,n.jsx)("p",{className:"rc-scroll-text-tips",children:"\u6682\u65E0\u6570\u636E~"})})},re=ee,$=function f(t){var A,m=f.DEFAULT_PROPS.CURRENT_PAGE_NUMBER,u=t.params,v=t.emptyClassName,S=(A=u==null?void 0:u.current)!==null&&A!==void 0?A:m,E=(0,x.useRef)(!1),R=(0,x.useState)(S),C=M()(R,2),z=C[0],ae=C[1],se=(0,x.useState)(0),Y=M()(se,2),Z=Y[0],oe=Y[1],ue=(0,x.useState)([]),H=M()(ue,2),h=H[0],le=H[1],D=E.current&&Z===0,L=E.current&&Z===h.length,ce=function(){var d=G()(p()().mark(function c(){var s,l,g,y,j,W,b,J,K,I,Q,O,V,X,_;return p()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return s=f.DEFAULT_PROPS.PAGE_SIZE,l=t.params,g=t.request,y=t.interceptorsResponse,j=t.onLoad,W=l||{},b=W.pageSize,J=b===void 0?s:b,K=o()(o()({},l),{},{pageSize:J,current:E.current?z+1:z}),P.next=6,g(K).finally(function(){E.current=!0});case 6:I=P.sent,Q=y==null?void 0:y(I),O=Q||I,V=O.current,X=O.total,_=O.records,ae(V),oe(X),le(function(Ee){return[].concat(B()(Ee),B()(_))}),j==null||j(I);case 13:case"end":return P.stop()}},c)}));return function(){return d.apply(this,arguments)}}(),de=function(){if(D)return null;var c=t.renderItem,s=t.contentClassName;return(0,n.jsx)("div",{className:U()(s,"rc-scroll-content"),children:h==null?void 0:h.map(function(l,g,y){return c(l,g,y)})})},ie=function(){if(D===!1)return null;var c=f.DEFAULT_PROPS.RENDER_EMPTY,s=t.renderEmpty,l=s===void 0?c:s;return l},ve=function(){if(D||L)return null;var c=f.DEFAULT_PROPS.RENDER_SCROL_LOAD_TIPS,s=t.renderScrolLoadTips,l=s===void 0?c:s;return l},fe=function(){if(D||L===!1)return null;var c=f.DEFAULT_PROPS.RENDER_END_TIPS,s=t.renderEndTips,l=s===void 0?c:s;return l};return(0,x.useEffect)(function(){if(L){var d=t.onScrollEnd;d==null||d(h)}},[L]),(0,n.jsxs)("div",{className:U()(t==null?void 0:t.className,D&&v,"rc-scroll-loading-component"),children:[(0,n.jsx)("div",{children:(0,n.jsx)("button",{type:"button",onClick:ce,children:"\u6267\u884C\u8BF7\u6C42"})}),de(),ie(),ve(),fe()]})};$.DEFAULT_PROPS=re;var te=$,ne=function(){var f=function(){var m=G()(p()().mark(function u(v){var S;return p()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return S={method:"POST",body:JSON.stringify(v)},R.abrupt("return",fetch("/api/users",S).then(function(C){return C.json()}));case 2:case"end":return R.stop()}},u)}));return function(v){return m.apply(this,arguments)}}(),t=function(u){var v=u.records,S=v.map(function(E){return o()(o()({},E),{},{addSomeAttributes:"\u53EF\u4EE5\u5728\u8FD9\u4E2A\u9636\u6BB5\u5BF9\u6570\u636E\u8FDB\u884C\u8C03\u6574"})});return o()(o()({},u),{},{records:S})},A=function(u,v){return console.log("--item--",u),(0,n.jsx)("div",{className:a.default.demoItem,children:(0,n.jsx)("p",{children:v})})};return(0,n.jsx)(te,{className:U()(a.default.scroll,a.default.col2),contentClassName:a.default.content,emptyClassName:a.default.empty,params:{current:6,pageSize:25,labelGroup:10},interceptorsResponse:t,request:f,renderItem:A,renderScrolLoadTips:(0,n.jsx)("p",{className:a.default.tips,children:"\u52A0\u8F7D\u4E2D\uFF0C\u8BF7\u7A0D\u540E..."}),renderEndTips:(0,n.jsx)("p",{className:a.default.tips,children:"\u81EA\u5B9A\u4E49\u5230\u5E95\u4E86~"}),renderEmpty:(0,n.jsx)("div",{className:a.default.emptyTips,children:"\u81EA\u5B9A\u4E49\u6682\u65E0\u6570\u636E"}),onScrollEnd:function(){console.log("\u6EDA\u52A8\u52A0\u8F7D\u7ED3\u675F")}})}},96446:function(r,i,e){var a=e(37923);function T(o){if(Array.isArray(o))return a(o)}r.exports=T,r.exports.__esModule=!0,r.exports.default=r.exports},96936:function(r){function i(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}r.exports=i,r.exports.__esModule=!0,r.exports.default=r.exports},88619:function(r){function i(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}r.exports=i,r.exports.__esModule=!0,r.exports.default=r.exports},19632:function(r,i,e){var a=e(96446),T=e(96936),o=e(96263),F=e(88619);function p(N){return a(N)||T(N)||o(N)||F()}r.exports=p,r.exports.__esModule=!0,r.exports.default=r.exports}}]);
