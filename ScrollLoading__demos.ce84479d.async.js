(self.webpackChunkrc_scroll_loading=self.webpackChunkrc_scroll_loading||[]).push([[835],{11067:function(e,o,r){"use strict";r.r(o);var v=r(15009),a=r.n(v),c=r(99289),f=r.n(c),O=r(67294),i=r(94184),C=r.n(i),g=r(6545),I=r(37852),p=r(85893);o.default=function(){var R=function(){var h=f()(a()().mark(function t(T){var D;return a()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return D={method:"POST",body:JSON.stringify(T)},l.abrupt("return",fetch("/api/users",D).then(function(s){return s.json()}));case 2:case"end":return l.stop()}},t)}));return function(T){return h.apply(this,arguments)}}(),m=function(t,T){return(0,p.jsx)("div",{className:"scroll-item",children:(0,p.jsx)("p",{children:T})})};return(0,p.jsx)(g.N,{className:C()("demo-scroll","col-1"),params:{current:6,pageSize:25,labelGroup:10},request:R,renderItem:m})}},56056:function(e,o,r){"use strict";r.r(o);var v=r(97857),a=r.n(v),c=r(15009),f=r.n(c),O=r(99289),i=r.n(O),C=r(67294),g=r(94184),I=r.n(g),p=r(6545),R=r(37852),m=r(85893);o.default=function(){var h=function(){var D=i()(f()().mark(function u(l){var s;return f()().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return s={method:"POST",body:JSON.stringify(l)},S.abrupt("return",fetch("/api/users",s).then(function(W){return W.json()}));case 2:case"end":return S.stop()}},u)}));return function(l){return D.apply(this,arguments)}}(),t=function(u){var l=u.records,s=l.map(function(n){return a()(a()({},n),{},{addSomeAttributes:"\u53EF\u4EE5\u5728\u8FD9\u4E2A\u9636\u6BB5\u5BF9\u6570\u636E\u8FDB\u884C\u8C03\u6574"})});return a()(a()({},u),{},{records:s})},T=function(u,l,s){return console.log("--item--",u),console.log("--dataSourcu--",s),(0,m.jsx)("div",{className:"scroll-item",children:(0,m.jsx)("p",{children:l})})};return(0,m.jsx)(p.N,{className:I()("demo-scroll","col-2"),contentClassName:"scroll-content-wrap",emptyClassName:"status-empty",params:{current:6,pageSize:25,labelGroup:10},interceptorsResponse:t,request:h,renderItem:T,renderScrolLoadTips:(0,m.jsx)("p",{className:"load-tips",children:"\u52A0\u8F7D\u4E2D\uFF0C\u8BF7\u7A0D\u540E..."}),renderEndTips:(0,m.jsx)("p",{className:"end-tips",children:"\u81EA\u5B9A\u4E49\u5230\u5E95\u4E86~"}),renderEmpty:(0,m.jsx)("div",{className:"empty-wrap",children:"\u81EA\u5B9A\u4E49\u6682\u65E0\u6570\u636E"}),onScrollEnd:function(){console.log("\u6EDA\u52A8\u52A0\u8F7D\u7ED3\u675F")}})}},6545:function(e,o,r){"use strict";r.d(o,{N:function(){return l}});var v=r(15009),a=r.n(v),c=r(19632),f=r.n(c),O=r(97857),i=r.n(O),C=r(99289),g=r.n(C),I=r(5574),p=r.n(I),R=r(67294),m=r(94184),h=r.n(m),t=r(85893),T={CURRENT_PAGE_NUMBER:1,PAGE_SIZE:10,RENDER_SCROL_LOAD_TIPS:(0,t.jsx)("div",{className:"rc-scroll-load-tips",children:(0,t.jsx)("p",{className:"rc-scroll-text-tips",children:"\u52A0\u8F7D\u4E2D..."})}),RENDER_END_TIPS:(0,t.jsx)("div",{className:"rc-scroll-end-tips",children:(0,t.jsx)("p",{className:"rc-scroll-text-tips",children:"\u5230\u5E95\u5566~"})}),RENDER_EMPTY:(0,t.jsx)("div",{className:"rc-scroll-empty",children:(0,t.jsx)("p",{className:"rc-scroll-text-tips",children:"\u6682\u65E0\u6570\u636E~"})})},D=T,u=function s(n){var S,W=s.DEFAULT_PROPS.CURRENT_PAGE_NUMBER,K=n.params,q=n.emptyClassName,rr=(S=K==null?void 0:K.current)!==null&&S!==void 0?S:W,L=(0,R.useRef)(!1),er=(0,R.useState)(rr),F=p()(er,2),$=F[0],nr=F[1],tr=(0,R.useState)(0),z=p()(tr,2),Y=z[0],ar=z[1],sr=(0,R.useState)([]),Z=p()(sr,2),M=Z[0],or=Z[1],y=L.current&&Y===0,N=L.current&&Y===M.length,lr=function(){var P=g()(a()().mark(function E(){var _,d,x,A,U,H,G,J,Q,b,V,B,X,w,k;return a()().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return _=s.DEFAULT_PROPS.PAGE_SIZE,d=n.params,x=n.request,A=n.interceptorsResponse,U=n.onLoad,H=d||{},G=H.pageSize,J=G===void 0?_:G,Q=i()(i()({},d),{},{pageSize:J,current:L.current?$+1:$}),j.next=6,x(Q).finally(function(){L.current=!0});case 6:b=j.sent,V=A==null?void 0:A(b),B=V||b,X=B.current,w=B.total,k=B.records,nr(X),ar(w),or(function(ir){return[].concat(f()(ir),f()(k))}),U==null||U(b);case 13:case"end":return j.stop()}},E)}));return function(){return P.apply(this,arguments)}}(),_r=function(){if(y)return null;var E=n.renderItem,_=n.contentClassName;return(0,t.jsx)("div",{className:h()(_,"rc-scroll-content"),children:M==null?void 0:M.map(function(d,x,A){return E(d,x,A)})})},ur=function(){if(y===!1)return null;var E=s.DEFAULT_PROPS.RENDER_EMPTY,_=n.renderEmpty,d=_===void 0?E:_;return d},dr=function(){if(y||N)return null;var E=s.DEFAULT_PROPS.RENDER_SCROL_LOAD_TIPS,_=n.renderScrolLoadTips,d=_===void 0?E:_;return d},cr=function(){if(y||N===!1)return null;var E=s.DEFAULT_PROPS.RENDER_END_TIPS,_=n.renderEndTips,d=_===void 0?E:_;return d};return(0,R.useEffect)(function(){if(N){var P=n.onScrollEnd;P==null||P(M)}},[N]),(0,t.jsxs)("div",{className:h()(n==null?void 0:n.className,y&&q,"rc-scroll-loading-component"),children:[(0,t.jsx)("div",{children:(0,t.jsx)("button",{type:"button",onClick:lr,children:"\u6267\u884C\u8BF7\u6C42"})}),_r(),ur(),dr(),cr()]})};u.DEFAULT_PROPS=D;var l=u},37852:function(){"use strict"},96446:function(e,o,r){var v=r(37923);function a(c){if(Array.isArray(c))return v(c)}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports},96936:function(e){function o(r){if(typeof Symbol!="undefined"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports},88619:function(e){function o(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports},19632:function(e,o,r){var v=r(96446),a=r(96936),c=r(96263),f=r(88619);function O(i){return v(i)||a(i)||c(i)||f()}e.exports=O,e.exports.__esModule=!0,e.exports.default=e.exports}}]);
