(self.webpackChunkrc_scroll_loading=self.webpackChunkrc_scroll_loading||[]).push([[835],{11067:function(e,t,r){"use strict";r.r(t);var i=r(67294),a=r(94184),l=r.n(a),d=r(93493),v=r(80227),f=r(37852),R=r(85893);t.default=function(){var j=function(D,s){return(0,R.jsx)("div",{className:"scroll-item",children:(0,R.jsx)("p",{children:s})},D.id)};return(0,R.jsx)(d.N,{className:l()("demo-scroll","col-1"),params:{current:6,pageSize:25,labelGroup:10},request:v.f,renderItem:j})}},56056:function(e,t,r){"use strict";r.r(t);var i=r(97857),a=r.n(i),l=r(67294),d=r(94184),v=r.n(d),f=r(93493),R=r(80227),j=r(37852),_=r(85893);t.default=function(){var D=function(S){var o=S.records,$=o.map(function(V){return a()(a()({},V),{},{addSomeAttributes:"\u53EF\u4EE5\u5728\u8FD9\u4E2A\u9636\u6BB5\u5BF9\u6570\u636E\u8FDB\u884C\u8C03\u6574"})});return a()(a()({},S),{},{records:$})},s=function(S,o){return(0,_.jsx)("div",{className:"scroll-item",children:(0,_.jsx)("p",{children:o})},S.id)};return(0,_.jsx)(f.N,{className:v()("demo-scroll","col-2"),contentClassName:"scroll-content-wrap",emptyClassName:"status-empty",params:{current:6,pageSize:25,labelGroup:10},interceptorsResponse:D,request:R.f,renderItem:s,renderScrolLoadTips:(0,_.jsx)("p",{className:"load-tips",children:"\u52A0\u8F7D\u4E2D\uFF0C\u8BF7\u7A0D\u540E..."}),renderEndTips:(0,_.jsx)("p",{className:"end-tips",children:"\u81EA\u5B9A\u4E49\u5230\u5E95\u4E86~"}),renderEmpty:(0,_.jsx)("div",{className:"empty-wrap",children:"\u81EA\u5B9A\u4E49\u6682\u65E0\u6570\u636E"}),onScrollEnd:function(){console.log("\u6EDA\u52A8\u52A0\u8F7D\u7ED3\u675F")}})}},80227:function(e,t,r){"use strict";r.d(t,{f:function(){return i}});var i=function(l){return new Promise(function(d){setTimeout(function(){var v={current:l.current,pageSize:l.pageSize,total:60,records:new Array(10).fill("\u54C7\u585E").map(function(){return{id:(Math.random()*100).toFixed(2),name:"\u5A03\u54C8\u54C8".concat((Math.random()*100).toFixed(2))}})};console.log("--params--",l),console.log("--response--",v),d(v)},2e3)})}},93493:function(e,t,r){"use strict";r.d(t,{v:function(){return w},N:function(){return or}});var i=r(15009),a=r.n(i),l=r(19632),d=r.n(l),v=r(97857),f=r.n(v),R=r(99289),j=r.n(R),_=r(5574),D=r.n(_),s=r(67294),U=r(94184),S=r.n(U),o=r(85893),$={CURRENT:1,PAGE_SIZE:10,RENDER_SCROL_LOAD_TIPS:(0,o.jsx)("div",{className:"rc-scroll-load-tips",children:(0,o.jsx)("p",{className:"rc-scroll-text-tips",children:"\u52A0\u8F7D\u4E2D..."})}),RENDER_END_TIPS:(0,o.jsx)("div",{className:"rc-scroll-end-tips",children:(0,o.jsx)("p",{className:"rc-scroll-text-tips",children:"\u5230\u5E95\u5566~"})}),RENDER_EMPTY:(0,o.jsx)("div",{className:"rc-scroll-empty",children:(0,o.jsx)("p",{className:"rc-scroll-text-tips",children:"\u6682\u65E0\u6570\u636E~"})})},V=$,X=function T(n){var y,W=T.DEFAULT_PROPS.CURRENT,A=n.params,O=n.emptyClassName,C=(y=A==null?void 0:A.current)!==null&&y!==void 0?y:W,p=(0,s.useRef)(!1),Y=(0,s.useState)(C),P=D()(Y,2),B=P[0],Z=P[1],I=(0,s.useState)(0),K=D()(I,2),L=K[0],H=K[1],J=(0,s.useState)([]),k=D()(J,2),M=k[0],ur=k[1],N=p.current&&L===0,h=p.current&&L===M.length,cr=function(){var m=j()(a()().mark(function E(){var u,c,b,x,F,q,Q,rr,er,z,nr,G,tr,ar,sr;return a()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return u=T.DEFAULT_PROPS.PAGE_SIZE,c=n.params,b=n.request,x=n.interceptorsResponse,F=n.onLoad,q=c||{},Q=q.pageSize,rr=Q===void 0?u:Q,er=f()(f()({},c),{},{pageSize:rr,current:p.current?B+1:B}),g.next=6,b(er).finally(function(){p.current=!0});case 6:z=g.sent,nr=x==null?void 0:x(z),G=nr||z,tr=G.current,ar=G.total,sr=G.records,Z(tr),H(ar),ur(function(fr){return[].concat(d()(fr),d()(sr))}),F==null||F(z);case 13:case"end":return g.stop()}},E)}));return function(){return m.apply(this,arguments)}}(),ir=function(){if(N)return null;var E=n.renderItem,u=n.contentClassName;return(0,o.jsx)("div",{className:S()(u,"rc-scroll-content"),children:M==null?void 0:M.map(function(c,b,x){return E(c,b,x)})})},dr=function(){if(N===!1)return null;var E=T.DEFAULT_PROPS.RENDER_EMPTY,u=n.renderEmpty,c=u===void 0?E:u;return c},vr=function(){if(N||h)return null;var E=T.DEFAULT_PROPS.RENDER_SCROL_LOAD_TIPS,u=n.renderScrolLoadTips,c=u===void 0?E:u;return c},Er=function(){if(N||h===!1)return null;var E=T.DEFAULT_PROPS.RENDER_END_TIPS,u=n.renderEndTips,c=u===void 0?E:u;return c};return(0,s.useEffect)(function(){if(h){var m=n.onScrollEnd;m==null||m(M)}},[h]),(0,o.jsxs)("div",{className:S()(n==null?void 0:n.className,N&&O,"rc-scroll-loading-component"),children:[ir(),dr(),vr(),Er(),(0,o.jsx)(w,{onVisible:cr,stopWatching:h})]})};X.DEFAULT_PROPS=V;var or=X,lr=function(n){var y=n.onVisible,W=n.stopWatching,A=W===void 0?!1:W,O=(0,s.useRef)(),C=(0,s.useRef)(null),p=(0,s.useRef)(!0),Y=function(){var B={threshold:[1]},Z=function(K){var L=K[0],H=L.intersectionRatio,J=L.isIntersecting;p.current&&H===1&&J&&(p.current=!1,y().finally(function(){p.current=!0}))};return O.current=new IntersectionObserver(Z,B),O.current.observe(C.current),function(){var I;(I=O.current)===null||I===void 0||I.disconnect()}};return(0,s.useEffect)(function(){return Y()},[]),(0,s.useEffect)(function(){if(A){var P;(P=O.current)===null||P===void 0||P.unobserve(C.current)}},[A]),(0,o.jsx)("div",{ref:C,className:"rc-infinite-scroll-component"})},w=lr},37852:function(){"use strict"},96446:function(e,t,r){var i=r(37923);function a(l){if(Array.isArray(l))return i(l)}e.exports=a,e.exports.__esModule=!0,e.exports.default=e.exports},96936:function(e){function t(r){if(typeof Symbol!="undefined"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},88619:function(e){function t(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},19632:function(e,t,r){var i=r(96446),a=r(96936),l=r(96263),d=r(88619);function v(f){return i(f)||a(f)||l(f)||d()}e.exports=v,e.exports.__esModule=!0,e.exports.default=e.exports}}]);
